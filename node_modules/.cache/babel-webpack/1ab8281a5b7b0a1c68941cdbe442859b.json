{"ast":null,"code":"import _asyncToGenerator from \"/Users/martintee/Desktop/Check-In App/check-in-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/auth.service\";\nimport * as i2 from \"src/app/users.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction LeftFooterComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Logged in as:\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LeftFooterComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function LeftFooterComponent_div_1_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.navigateToProfile();\n    });\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"h5\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 10);\n    i0.ɵɵelementStart(10, \"small\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.imagePath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser == null ? null : ctx_r1.currentUser.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Logged in as: \", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.emailAddress, \"\");\n  }\n}\n\nexport class LeftFooterComponent {\n  constructor(authService, usersService, router) {\n    this.authService = authService;\n    this.usersService = usersService;\n    this.router = router;\n  }\n\n  ngOnInit() {\n    this.activatedSub1 = this.authService.user.subscribe(user => {\n      if (user) {\n        this.getCurrentUser();\n      } else {\n        this.currentUser = null;\n      }\n    });\n    this.activatedSub2 = this.usersService.updatedUsers.subscribe(updatedUsers => {\n      this.users = updatedUsers;\n      this.getCurrentUser();\n    });\n  }\n\n  ngOnDestroy() {\n    this.activatedSub1.unsubscribe();\n    this.activatedSub2.unsubscribe();\n    this.activatedSub3.unsubscribe();\n    this.activatedSub4.unsubscribe();\n    this.activatedSub5.unsubscribe();\n    this.activatedSub6.unsubscribe();\n  }\n\n  getLoggedInUser() {\n    return new Promise((resolve, reject) => {\n      this.activatedSub5 = this.activatedSub4 = this.authService.user.subscribe(loggedInUser => {\n        if (loggedInUser) resolve(loggedInUser);\n      });\n    });\n  }\n\n  getUpdatedUsers() {\n    return new Promise((resolve, reject) => {\n      this.activatedSub6 = this.activatedSub3 = this.usersService.updatedUsers.subscribe(updatedUsers => {\n        if (updatedUsers) resolve(updatedUsers);\n      });\n    });\n  }\n\n  getCurrentUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield Promise.all([_this.getLoggedInUser(), _this.getUpdatedUsers()]);\n      const [loggedInUser, updatedUsers] = data;\n      _this.currentUser = updatedUsers.find(user => user.emailAddress === loggedInUser.email); // console.log(this.currentUser);\n    })();\n  }\n\n  navigateToProfile() {\n    this.router.navigate(['/users', this.currentUser.userName]);\n    this.usersService.updatedUsers.next(this.users); //console.log(this.users);\n  }\n\n}\n\nLeftFooterComponent.ɵfac = function LeftFooterComponent_Factory(t) {\n  return new (t || LeftFooterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UsersService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nLeftFooterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LeftFooterComponent,\n  selectors: [[\"app-left-footer\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"lead mb-1\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"lead\", \"mb-1\"], [1, \"card\", \"darken\", \"roundedcorner\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"row\", \"g-0\"], [1, \"col-5\", \"col-sm-4\", \"my-auto\"], [\"alt\", \"card-horizontal-image\", 1, \"img-fluid\", \"w-80\", \"p-3\", 3, \"src\"], [1, \"col-7\", \"col-sm-8\", \"my-auto\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"text-muted\"]],\n  template: function LeftFooterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LeftFooterComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, LeftFooterComponent_div_1_Template, 12, 3, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n    }\n  },\n  directives: [i4.NgIf],\n  styles: [\".darken[_ngcontent-%COMP%]:hover {\\n  filter: brightness(95%);\\n}\\n\\n.roundedcorner[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  min-height: 150px;\\n  box-shadow: 0 1px 10px rgb(0, 0, 0);\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.img-fluid[_ngcontent-%COMP%] {\\n  max-height: 134px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxlZnQtZm9vdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLG1DQUFtQztFQUNuQyx1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25CIiwiZmlsZSI6ImxlZnQtZm9vdGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFya2VuOmhvdmVyIHtcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDk1JSk7XG59XG5cbi5yb3VuZGVkY29ybmVyIHtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgbWluLWhlaWdodDogMTUwcHg7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDEwcHggcmdiKDAsIDAsIDApO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmltZy1mbHVpZCB7XG4gIG1heC1oZWlnaHQ6IDEzNHB4O1xufVxuIl19 */\"]\n});","map":{"version":3,"sources":["/Users/martintee/Desktop/Check-In App/check-in-app/src/app/footer/left-footer/left-footer.component.ts"],"names":["i0","i1","i2","i3","i4","LeftFooterComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LeftFooterComponent_div_1_Template","_r3","ɵɵgetCurrentView","ɵɵlistener","LeftFooterComponent_div_1_Template_div_click_1_listener","ɵɵrestoreView","ctx_r2","ɵɵnextContext","navigateToProfile","ɵɵelement","ctx_r1","ɵɵadvance","ɵɵproperty","currentUser","imagePath","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","ɵɵtextInterpolate1","emailAddress","LeftFooterComponent","constructor","authService","usersService","router","ngOnInit","activatedSub1","user","subscribe","getCurrentUser","activatedSub2","updatedUsers","users","ngOnDestroy","unsubscribe","activatedSub3","activatedSub4","activatedSub5","activatedSub6","getLoggedInUser","Promise","resolve","reject","loggedInUser","getUpdatedUsers","data","all","find","email","navigate","userName","next","ɵfac","LeftFooterComponent_Factory","t","ɵɵdirectiveInject","AuthService","UsersService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LeftFooterComponent_Template","ɵɵtemplate","directives","NgIf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/auth.service\";\nimport * as i2 from \"src/app/users.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction LeftFooterComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Logged in as:\");\n    i0.ɵɵelementEnd();\n} }\nfunction LeftFooterComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function LeftFooterComponent_div_1_Template_div_click_1_listener() { i0.ɵɵrestoreView(_r3); const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.navigateToProfile(); });\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"h5\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 10);\n    i0.ɵɵelementStart(10, \"small\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.imagePath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser == null ? null : ctx_r1.currentUser.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Logged in as: \", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.emailAddress, \"\");\n} }\nexport class LeftFooterComponent {\n    constructor(authService, usersService, router) {\n        this.authService = authService;\n        this.usersService = usersService;\n        this.router = router;\n    }\n    ngOnInit() {\n        this.activatedSub1 = this.authService.user.subscribe((user) => {\n            if (user) {\n                this.getCurrentUser();\n            }\n            else {\n                this.currentUser = null;\n            }\n        });\n        this.activatedSub2 = this.usersService.updatedUsers.subscribe((updatedUsers) => {\n            this.users = updatedUsers;\n            this.getCurrentUser();\n        });\n    }\n    ngOnDestroy() {\n        this.activatedSub1.unsubscribe();\n        this.activatedSub2.unsubscribe();\n        this.activatedSub3.unsubscribe();\n        this.activatedSub4.unsubscribe();\n        this.activatedSub5.unsubscribe();\n        this.activatedSub6.unsubscribe();\n    }\n    getLoggedInUser() {\n        return new Promise((resolve, reject) => {\n            this.activatedSub5 = this.activatedSub4 = this.authService.user.subscribe((loggedInUser) => {\n                if (loggedInUser)\n                    resolve(loggedInUser);\n            });\n        });\n    }\n    getUpdatedUsers() {\n        return new Promise((resolve, reject) => {\n            this.activatedSub6 = this.activatedSub3 = this.usersService.updatedUsers.subscribe((updatedUsers) => {\n                if (updatedUsers)\n                    resolve(updatedUsers);\n            });\n        });\n    }\n    async getCurrentUser() {\n        const data = await Promise.all([\n            this.getLoggedInUser(),\n            this.getUpdatedUsers(),\n        ]);\n        const [loggedInUser, updatedUsers] = data;\n        this.currentUser = updatedUsers.find((user) => user.emailAddress === loggedInUser.email);\n        // console.log(this.currentUser);\n    }\n    navigateToProfile() {\n        this.router.navigate(['/users', this.currentUser.userName]);\n        this.usersService.updatedUsers.next(this.users);\n        //console.log(this.users);\n    }\n}\nLeftFooterComponent.ɵfac = function LeftFooterComponent_Factory(t) { return new (t || LeftFooterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UsersService), i0.ɵɵdirectiveInject(i3.Router)); };\nLeftFooterComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LeftFooterComponent, selectors: [[\"app-left-footer\"]], decls: 2, vars: 2, consts: [[\"class\", \"lead mb-1\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"lead\", \"mb-1\"], [1, \"card\", \"darken\", \"roundedcorner\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"row\", \"g-0\"], [1, \"col-5\", \"col-sm-4\", \"my-auto\"], [\"alt\", \"card-horizontal-image\", 1, \"img-fluid\", \"w-80\", \"p-3\", 3, \"src\"], [1, \"col-7\", \"col-sm-8\", \"my-auto\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"text-muted\"]], template: function LeftFooterComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, LeftFooterComponent_div_0_Template, 2, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, LeftFooterComponent_div_1_Template, 12, 3, \"div\", 1);\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n    } }, directives: [i4.NgIf], styles: [\".darken[_ngcontent-%COMP%]:hover {\\n  filter: brightness(95%);\\n}\\n\\n.roundedcorner[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  min-height: 150px;\\n  box-shadow: 0 1px 10px rgb(0, 0, 0);\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.img-fluid[_ngcontent-%COMP%] {\\n  max-height: 134px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxlZnQtZm9vdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLG1DQUFtQztFQUNuQyx1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25CIiwiZmlsZSI6ImxlZnQtZm9vdGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFya2VuOmhvdmVyIHtcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDk1JSk7XG59XG5cbi5yb3VuZGVkY29ybmVyIHtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgbWluLWhlaWdodDogMTUwcHg7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDEwcHggcmdiKDAsIDAsIDApO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmltZy1mbHVpZCB7XG4gIG1heC1oZWlnaHQ6IDEzNHB4O1xufVxuIl19 */\"] });\n"]},"metadata":{},"sourceType":"module"}