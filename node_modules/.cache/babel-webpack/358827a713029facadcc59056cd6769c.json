{"ast":null,"code":"import _asyncToGenerator from \"/Users/martintee/Desktop/Check-In App/check-in-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../users.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./loading-spinner/loading-spinner.component\";\nimport * as i6 from \"@angular/forms\";\n\nfunction AuthComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\n\nfunction AuthComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"app-loading-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthComponent_form_3_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Please enter a valid email.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthComponent_form_3_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Password is minimum of 6 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthComponent_form_3_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵelementStart(2, \"input\", 22);\n    i0.ɵɵlistener(\"click\", function AuthComponent_form_3_div_17_Template_input_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const option_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.onSwitchMode(option_r9);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", \"login\")(\"value\", option_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r9, \" \");\n  }\n}\n\nfunction AuthComponent_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 6, 7);\n    i0.ɵɵlistener(\"ngSubmit\", function AuthComponent_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n\n      const _r3 = i0.ɵɵreference(1);\n\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.onSubmit(_r3);\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"label\", 9);\n    i0.ɵɵtext(4, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10);\n    i0.ɵɵelement(6, \"input\", 11, 12);\n    i0.ɵɵtemplate(8, AuthComponent_form_3_span_8_Template, 2, 0, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵelementStart(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵelement(13, \"input\", 15, 16);\n    i0.ɵɵtemplate(15, AuthComponent_form_3_span_15_Template, 2, 0, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"fieldset\", 8);\n    i0.ɵɵtemplate(17, AuthComponent_form_3_div_17_Template, 4, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 18);\n    i0.ɵɵelementStart(19, \"button\", 19);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(1);\n\n    const _r4 = i0.ɵɵreference(7);\n\n    const _r6 = i0.ɵɵreference(14);\n\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !_r4.valid && _r4.touched);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !_r6.valid && _r6.touched);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.options);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !_r3.valid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isLoginMode ? \"Login\" : \"Sign up\", \" \");\n  }\n}\n\nexport class AuthComponent {\n  constructor(authService, router, usersService) {\n    this.authService = authService;\n    this.router = router;\n    this.usersService = usersService;\n    this.isLoginMode = true;\n    this.isLoading = false;\n    this.options = ['login', 'signup'];\n    this.error = null;\n  }\n\n  onSwitchMode(option) {\n    if (option === 'login') this.isLoginMode = true;\n    if (option === 'signup') this.isLoginMode = false;\n  }\n\n  ngOnInit() {}\n\n  onSubmit(form) {\n    if (!form.valid) return;\n    const email = form.value.email;\n    const password = form.value.password;\n    this.isLoading = true;\n\n    if (this.isLoginMode) {\n      this.activatedSub1 = this.authService.login(email, password).subscribe(resData => {\n        this.navigateToNextPage(); //this.isLoading = false; // We commented this out because we still need the spinner showing as it's still doing an API fetch for the updatedUsers and updatedActivities\n      }, errorMessage => {\n        // console.log(errorMessage);\n        this.error = errorMessage;\n        this.isLoading = false;\n      });\n    } else {\n      this.activatedSub2 = this.authService.signup(email, password).subscribe(resData => {\n        // console.log(resData);\n        this.isLoading = false;\n        this.router.navigate(['/create-profile']);\n      }, errorMessage => {\n        // console.log(errorMessage);\n        this.error = errorMessage;\n        this.isLoading = false;\n      });\n    }\n\n    form.reset();\n    this.isLoginMode = true; // Don't remove this. It resets the form button to default value.\n  }\n\n  getLoggedInUser() {\n    return new Promise((resolve, reject) => {\n      this.activatedSub3 = this.authService.user.subscribe(loggedInUser => {\n        if (loggedInUser) resolve(loggedInUser);\n      });\n    });\n  }\n\n  getUpdatedUsers() {\n    return new Promise((resolve, reject) => {\n      this.activatedSub4 = this.usersService.updatedUsers.subscribe(updatedUsers => {\n        if (updatedUsers) resolve(updatedUsers);\n      });\n    });\n  }\n\n  navigateToNextPage() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield Promise.all([_this.getLoggedInUser(), _this.getUpdatedUsers()]);\n      const [loggedInUser, updatedUsers] = data;\n      const user = updatedUsers.find(user => user.emailAddress === loggedInUser.email);\n\n      if (user) {\n        _this.router.navigate(['/users']);\n      } else {\n        _this.router.navigate(['/create-profile']);\n      } // console.log(loggedInUser);\n      // console.log(updatedUsers);\n      // console.log(user);\n\n    })();\n  }\n\n}\n\nAuthComponent.ɵfac = function AuthComponent_Factory(t) {\n  return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UsersService));\n};\n\nAuthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AuthComponent,\n  selectors: [[\"app-auth\"]],\n  decls: 4,\n  vars: 3,\n  consts: [[1, \"container-lg\", \"col-xl-6\", \"col-lg-7\", \"col-md-9\", \"p-5\", \"mt-5\", \"roundedcorner\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"style\", \"text-align: center\", 4, \"ngIf\"], [3, \"ngSubmit\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [2, \"text-align\", \"center\"], [3, \"ngSubmit\"], [\"authForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [\"for\", \"inputEmail3\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-10\"], [\"type\", \"email\", \"id\", \"inputEmail3\", \"ngModel\", \"\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 1, \"form-control\"], [\"email\", \"ngModel\"], [\"class\", \"help-block text-danger\", 4, \"ngIf\"], [\"for\", \"inputPassword3\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"password\", \"id\", \"inputPassword3\", \"ngModel\", \"\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"6\", 1, \"form-control\"], [\"password\", \"ngModel\"], [\"class\", \"radio form-check d-flex justify-content-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"help-block\", \"text-danger\"], [1, \"radio\", \"form-check\", \"d-flex\", \"justify-content-center\"], [\"type\", \"radio\", \"name\", \"option\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"click\"]],\n  template: function AuthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, AuthComponent_div_1_Template, 3, 1, \"div\", 1);\n      i0.ɵɵtemplate(2, AuthComponent_div_2_Template, 2, 0, \"div\", 2);\n      i0.ɵɵtemplate(3, AuthComponent_form_3_Template, 21, 5, \"form\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n    }\n  },\n  directives: [i4.NgIf, i5.LoadingSpinnerComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i6.RequiredValidator, i6.EmailValidator, i6.MinLengthValidator, i4.NgForOf, i6.RadioControlValueAccessor],\n  styles: [\".roundedcorner[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  background-color: white;\\n  box-shadow: 0 1px 10px rgb(0, 0, 0);\\n}\\n\\n@media screen and (max-width: 768px) {\\n  .roundedcorner[_ngcontent-%COMP%] {\\n    box-shadow: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsbUNBQW1DO0FBQ3JDOztBQUVBO0VBQ0U7SUFDRSxnQkFBZ0I7RUFDbEI7QUFDRiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm91bmRlZGNvcm5lciB7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3gtc2hhZG93OiAwIDFweCAxMHB4IHJnYigwLCAwLCAwKTtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLnJvdW5kZWRjb3JuZXIge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/martintee/Desktop/Check-In App/check-in-app/src/app/auth/auth.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","AuthComponent_div_1_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","error","AuthComponent_div_2_Template","ɵɵelement","AuthComponent_form_3_span_8_Template","AuthComponent_form_3_span_15_Template","AuthComponent_form_3_div_17_Template","_r11","ɵɵgetCurrentView","ɵɵlistener","AuthComponent_form_3_div_17_Template_input_click_2_listener","restoredCtx","ɵɵrestoreView","option_r9","$implicit","ctx_r10","onSwitchMode","ɵɵproperty","ɵɵtextInterpolate1","AuthComponent_form_3_Template","_r13","AuthComponent_form_3_Template_form_ngSubmit_0_listener","_r3","ɵɵreference","ctx_r12","onSubmit","ɵɵtemplate","_r4","_r6","ctx_r2","valid","touched","options","isLoginMode","AuthComponent","constructor","authService","router","usersService","isLoading","option","ngOnInit","form","email","value","password","activatedSub1","login","subscribe","resData","navigateToNextPage","errorMessage","activatedSub2","signup","navigate","reset","getLoggedInUser","Promise","resolve","reject","activatedSub3","user","loggedInUser","getUpdatedUsers","activatedSub4","updatedUsers","data","all","find","emailAddress","ɵfac","AuthComponent_Factory","t","ɵɵdirectiveInject","AuthService","Router","UsersService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AuthComponent_Template","directives","NgIf","LoadingSpinnerComponent","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","RequiredValidator","EmailValidator","MinLengthValidator","NgForOf","RadioControlValueAccessor","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6CAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;;AACA,SAASC,4BAAT,CAAsCC,EAAtC,EAA0CC,GAA1C,EAA+C;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzDR,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,GAArB;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV;AACAX,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,MAAM,GAAGb,EAAE,CAACc,aAAH,EAAf;AACAd,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACgB,iBAAH,CAAqBH,MAAM,CAACI,KAA5B;AACH;AAAE;;AACH,SAASC,4BAAT,CAAsCV,EAAtC,EAA0CC,GAA1C,EAA+C;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzDR,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,IAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb,EAAgB,qBAAhB;AACAnB,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASQ,oCAAT,CAA8CZ,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,6BAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASS,qCAAT,CAA+Cb,EAA/C,EAAmDC,GAAnD,EAAwD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAClER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,sCAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASU,oCAAT,CAA8Cd,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjE,UAAMe,IAAI,GAAGvB,EAAE,CAACwB,gBAAH,EAAb;;AACAxB,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,EAA9B;AACAV,IAAAA,EAAE,CAACyB,UAAH,CAAc,OAAd,EAAuB,SAASC,2DAAT,GAAuE;AAAE,YAAMC,WAAW,GAAG3B,EAAE,CAAC4B,aAAH,CAAiBL,IAAjB,CAApB;AAA4C,YAAMM,SAAS,GAAGF,WAAW,CAACG,SAA9B;AAAyC,YAAMC,OAAO,GAAG/B,EAAE,CAACc,aAAH,CAAiB,CAAjB,CAAhB;AAAqC,aAAOiB,OAAO,CAACC,YAAR,CAAqBH,SAArB,CAAP;AAAyC,KAAnQ;AACA7B,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV;AACAX,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMqB,SAAS,GAAGpB,GAAG,CAACqB,SAAtB;AACA9B,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACiC,UAAH,CAAc,SAAd,EAAyB,OAAzB,EAAkC,OAAlC,EAA2CJ,SAA3C;AACA7B,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACkC,kBAAH,CAAsB,GAAtB,EAA2BL,SAA3B,EAAsC,GAAtC;AACH;AAAE;;AACH,SAASM,6BAAT,CAAuC3B,EAAvC,EAA2CC,GAA3C,EAAgD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC1D,UAAM4B,IAAI,GAAGpC,EAAE,CAACwB,gBAAH,EAAb;;AACAxB,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B,EAAgC,CAAhC;AACAV,IAAAA,EAAE,CAACyB,UAAH,CAAc,UAAd,EAA0B,SAASY,sDAAT,GAAkE;AAAErC,MAAAA,EAAE,CAAC4B,aAAH,CAAiBQ,IAAjB;;AAAwB,YAAME,GAAG,GAAGtC,EAAE,CAACuC,WAAH,CAAe,CAAf,CAAZ;;AAA+B,YAAMC,OAAO,GAAGxC,EAAE,CAACc,aAAH,EAAhB;AAAoC,aAAO0B,OAAO,CAACC,QAAR,CAAiBH,GAAjB,CAAP;AAA+B,KAAxN;AACAtC,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,CAA9B;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,QAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAV,IAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,EAAzB,EAA6B,EAA7B;AACAnB,IAAAA,EAAE,CAAC0C,UAAH,CAAc,CAAd,EAAiBtB,oCAAjB,EAAuD,CAAvD,EAA0D,CAA1D,EAA6D,MAA7D,EAAqE,EAArE;AACApB,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,EAA/B;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,EAAV,EAAc,WAAd;AACAX,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAV,IAAAA,EAAE,CAACmB,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAA1B,EAA8B,EAA9B;AACAnB,IAAAA,EAAE,CAAC0C,UAAH,CAAc,EAAd,EAAkBrB,qCAAlB,EAAyD,CAAzD,EAA4D,CAA5D,EAA+D,MAA/D,EAAuE,EAAvE;AACArB,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,UAAtB,EAAkC,CAAlC;AACAV,IAAAA,EAAE,CAAC0C,UAAH,CAAc,EAAd,EAAkBpB,oCAAlB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,KAA9D,EAAqE,EAArE;AACAtB,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAV,IAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,EAAV;AACAX,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACAZ,IAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAM8B,GAAG,GAAGtC,EAAE,CAACuC,WAAH,CAAe,CAAf,CAAZ;;AACA,UAAMI,GAAG,GAAG3C,EAAE,CAACuC,WAAH,CAAe,CAAf,CAAZ;;AACA,UAAMK,GAAG,GAAG5C,EAAE,CAACuC,WAAH,CAAe,EAAf,CAAZ;;AACA,UAAMM,MAAM,GAAG7C,EAAE,CAACc,aAAH,EAAf;AACAd,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACiC,UAAH,CAAc,MAAd,EAAsB,CAACU,GAAG,CAACG,KAAL,IAAcH,GAAG,CAACI,OAAxC;AACA/C,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACiC,UAAH,CAAc,MAAd,EAAsB,CAACW,GAAG,CAACE,KAAL,IAAcF,GAAG,CAACG,OAAxC;AACA/C,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACiC,UAAH,CAAc,SAAd,EAAyBY,MAAM,CAACG,OAAhC;AACAhD,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACiC,UAAH,CAAc,UAAd,EAA0B,CAACK,GAAG,CAACQ,KAA/B;AACA9C,IAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,IAAAA,EAAE,CAACkC,kBAAH,CAAsB,GAAtB,EAA2BW,MAAM,CAACI,WAAP,GAAqB,OAArB,GAA+B,SAA1D,EAAqE,GAArE;AACH;AAAE;;AACH,OAAO,MAAMC,aAAN,CAAoB;AACvBC,EAAAA,WAAW,CAACC,WAAD,EAAcC,MAAd,EAAsBC,YAAtB,EAAoC;AAC3C,SAAKF,WAAL,GAAmBA,WAAnB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKL,WAAL,GAAmB,IAAnB;AACA,SAAKM,SAAL,GAAiB,KAAjB;AACA,SAAKP,OAAL,GAAe,CAAC,OAAD,EAAU,QAAV,CAAf;AACA,SAAK/B,KAAL,GAAa,IAAb;AACH;;AACDe,EAAAA,YAAY,CAACwB,MAAD,EAAS;AACjB,QAAIA,MAAM,KAAK,OAAf,EACI,KAAKP,WAAL,GAAmB,IAAnB;AACJ,QAAIO,MAAM,KAAK,QAAf,EACI,KAAKP,WAAL,GAAmB,KAAnB;AACP;;AACDQ,EAAAA,QAAQ,GAAG,CAAG;;AACdhB,EAAAA,QAAQ,CAACiB,IAAD,EAAO;AACX,QAAI,CAACA,IAAI,CAACZ,KAAV,EACI;AACJ,UAAMa,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAWD,KAAzB;AACA,UAAME,QAAQ,GAAGH,IAAI,CAACE,KAAL,CAAWC,QAA5B;AACA,SAAKN,SAAL,GAAiB,IAAjB;;AACA,QAAI,KAAKN,WAAT,EAAsB;AAClB,WAAKa,aAAL,GAAqB,KAAKV,WAAL,CAAiBW,KAAjB,CAAuBJ,KAAvB,EAA8BE,QAA9B,EAAwCG,SAAxC,CAAmDC,OAAD,IAAa;AAChF,aAAKC,kBAAL,GADgF,CAEhF;AACH,OAHoB,EAGjBC,YAAD,IAAkB;AACjB;AACA,aAAKlD,KAAL,GAAakD,YAAb;AACA,aAAKZ,SAAL,GAAiB,KAAjB;AACH,OAPoB,CAArB;AAQH,KATD,MAUK;AACD,WAAKa,aAAL,GAAqB,KAAKhB,WAAL,CAAiBiB,MAAjB,CAAwBV,KAAxB,EAA+BE,QAA/B,EAAyCG,SAAzC,CAAoDC,OAAD,IAAa;AACjF;AACA,aAAKV,SAAL,GAAiB,KAAjB;AACA,aAAKF,MAAL,CAAYiB,QAAZ,CAAqB,CAAC,iBAAD,CAArB;AACH,OAJoB,EAIjBH,YAAD,IAAkB;AACjB;AACA,aAAKlD,KAAL,GAAakD,YAAb;AACA,aAAKZ,SAAL,GAAiB,KAAjB;AACH,OARoB,CAArB;AASH;;AACDG,IAAAA,IAAI,CAACa,KAAL;AACA,SAAKtB,WAAL,GAAmB,IAAnB,CA5BW,CA4Bc;AAC5B;;AACDuB,EAAAA,eAAe,GAAG;AACd,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,WAAKC,aAAL,GAAqB,KAAKxB,WAAL,CAAiByB,IAAjB,CAAsBb,SAAtB,CAAiCc,YAAD,IAAkB;AACnE,YAAIA,YAAJ,EACIJ,OAAO,CAACI,YAAD,CAAP;AACP,OAHoB,CAArB;AAIH,KALM,CAAP;AAMH;;AACDC,EAAAA,eAAe,GAAG;AACd,WAAO,IAAIN,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,WAAKK,aAAL,GAAqB,KAAK1B,YAAL,CAAkB2B,YAAlB,CAA+BjB,SAA/B,CAA0CiB,YAAD,IAAkB;AAC5E,YAAIA,YAAJ,EACIP,OAAO,CAACO,YAAD,CAAP;AACP,OAHoB,CAArB;AAIH,KALM,CAAP;AAMH;;AACKf,EAAAA,kBAAkB,GAAG;AAAA;;AAAA;AACvB,YAAMgB,IAAI,SAAST,OAAO,CAACU,GAAR,CAAY,CAC3B,KAAI,CAACX,eAAL,EAD2B,EAE3B,KAAI,CAACO,eAAL,EAF2B,CAAZ,CAAnB;AAIA,YAAM,CAACD,YAAD,EAAeG,YAAf,IAA+BC,IAArC;AACA,YAAML,IAAI,GAAGI,YAAY,CAACG,IAAb,CAAmBP,IAAD,IAAUA,IAAI,CAACQ,YAAL,KAAsBP,YAAY,CAACnB,KAA/D,CAAb;;AACA,UAAIkB,IAAJ,EAAU;AACN,QAAA,KAAI,CAACxB,MAAL,CAAYiB,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH,OAFD,MAGK;AACD,QAAA,KAAI,CAACjB,MAAL,CAAYiB,QAAZ,CAAqB,CAAC,iBAAD,CAArB;AACH,OAZsB,CAavB;AACA;AACA;;AAfuB;AAgB1B;;AA/EsB;;AAiF3BpB,aAAa,CAACoC,IAAd,GAAqB,SAASC,qBAAT,CAA+BC,CAA/B,EAAkC;AAAE,SAAO,KAAKA,CAAC,IAAItC,aAAV,EAAyBlD,EAAE,CAACyF,iBAAH,CAAqBxF,EAAE,CAACyF,WAAxB,CAAzB,EAA+D1F,EAAE,CAACyF,iBAAH,CAAqBvF,EAAE,CAACyF,MAAxB,CAA/D,EAAgG3F,EAAE,CAACyF,iBAAH,CAAqBtF,EAAE,CAACyF,YAAxB,CAAhG,CAAP;AAAgJ,CAAzM;;AACA1C,aAAa,CAAC2C,IAAd,GAAqB,aAAc7F,EAAE,CAAC8F,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE7C,aAAR;AAAuB8C,EAAAA,SAAS,EAAE,CAAC,CAAC,UAAD,CAAD,CAAlC;AAAkDC,EAAAA,KAAK,EAAE,CAAzD;AAA4DC,EAAAA,IAAI,EAAE,CAAlE;AAAqEC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,cAAJ,EAAoB,UAApB,EAAgC,UAAhC,EAA4C,UAA5C,EAAwD,KAAxD,EAA+D,MAA/D,EAAuE,eAAvE,CAAD,EAA0F,CAAC,OAAD,EAAU,oBAAV,EAAgC,CAAhC,EAAmC,MAAnC,CAA1F,EAAsI,CAAC,OAAD,EAAU,oBAAV,EAAgC,CAAhC,EAAmC,MAAnC,CAAtI,EAAkL,CAAC,CAAD,EAAI,UAAJ,EAAgB,CAAhB,EAAmB,MAAnB,CAAlL,EAA8M,CAAC,CAAD,EAAI,OAAJ,EAAa,cAAb,CAA9M,EAA4O,CAAC,CAAD,EAAI,YAAJ,EAAkB,QAAlB,CAA5O,EAAyQ,CAAC,CAAD,EAAI,UAAJ,CAAzQ,EAA0R,CAAC,UAAD,EAAa,QAAb,CAA1R,EAAkT,CAAC,CAAD,EAAI,KAAJ,EAAW,MAAX,CAAlT,EAAsU,CAAC,KAAD,EAAQ,aAAR,EAAuB,CAAvB,EAA0B,UAA1B,EAAsC,gBAAtC,CAAtU,EAA+X,CAAC,CAAD,EAAI,WAAJ,CAA/X,EAAiZ,CAAC,MAAD,EAAS,OAAT,EAAkB,IAAlB,EAAwB,aAAxB,EAAuC,SAAvC,EAAkD,EAAlD,EAAsD,MAAtD,EAA8D,OAA9D,EAAuE,UAAvE,EAAmF,EAAnF,EAAuF,OAAvF,EAAgG,EAAhG,EAAoG,CAApG,EAAuG,cAAvG,CAAjZ,EAAygB,CAAC,OAAD,EAAU,SAAV,CAAzgB,EAA+hB,CAAC,OAAD,EAAU,wBAAV,EAAoC,CAApC,EAAuC,MAAvC,CAA/hB,EAA+kB,CAAC,KAAD,EAAQ,gBAAR,EAA0B,CAA1B,EAA6B,UAA7B,EAAyC,gBAAzC,CAA/kB,EAA2oB,CAAC,MAAD,EAAS,UAAT,EAAqB,IAArB,EAA2B,gBAA3B,EAA6C,SAA7C,EAAwD,EAAxD,EAA4D,MAA5D,EAAoE,UAApE,EAAgF,UAAhF,EAA4F,EAA5F,EAAgG,WAAhG,EAA6G,GAA7G,EAAkH,CAAlH,EAAqH,cAArH,CAA3oB,EAAixB,CAAC,UAAD,EAAa,SAAb,CAAjxB,EAA0yB,CAAC,OAAD,EAAU,gDAAV,EAA4D,CAA5D,EAA+D,OAA/D,EAAwE,SAAxE,CAA1yB,EAA83B,CAAC,CAAD,EAAI,QAAJ,EAAc,wBAAd,CAA93B,EAAu6B,CAAC,MAAD,EAAS,QAAT,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,aAA7B,EAA4C,CAA5C,EAA+C,UAA/C,CAAv6B,EAAm+B,CAAC,CAAD,EAAI,YAAJ,EAAkB,aAAlB,CAAn+B,EAAqgC,CAAC,CAAD,EAAI,OAAJ,EAAa,YAAb,EAA2B,QAA3B,EAAqC,wBAArC,CAArgC,EAAqkC,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,QAA1B,EAAoC,CAApC,EAAuC,kBAAvC,EAA2D,CAA3D,EAA8D,SAA9D,EAAyE,OAAzE,EAAkF,OAAlF,CAArkC,CAA7E;AAA+uCC,EAAAA,QAAQ,EAAE,SAASC,sBAAT,CAAgC7F,EAAhC,EAAoCC,GAApC,EAAyC;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACh2CR,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,MAAAA,EAAE,CAAC0C,UAAH,CAAc,CAAd,EAAiBnC,4BAAjB,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD,KAArD,EAA4D,CAA5D;AACAP,MAAAA,EAAE,CAAC0C,UAAH,CAAc,CAAd,EAAiBxB,4BAAjB,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD,KAArD,EAA4D,CAA5D;AACAlB,MAAAA,EAAE,CAAC0C,UAAH,CAAc,CAAd,EAAiBP,6BAAjB,EAAgD,EAAhD,EAAoD,CAApD,EAAuD,MAAvD,EAA+D,CAA/D;AACAnC,MAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACVR,MAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,MAAAA,EAAE,CAACiC,UAAH,CAAc,MAAd,EAAsBxB,GAAG,CAACQ,KAA1B;AACAjB,MAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,MAAAA,EAAE,CAACiC,UAAH,CAAc,MAAd,EAAsBxB,GAAG,CAAC8C,SAA1B;AACAvD,MAAAA,EAAE,CAACe,SAAH,CAAa,CAAb;AACAf,MAAAA,EAAE,CAACiC,UAAH,CAAc,MAAd,EAAsB,CAACxB,GAAG,CAAC8C,SAA3B;AACH;AAAE,GAbiD;AAa/C+C,EAAAA,UAAU,EAAE,CAAClG,EAAE,CAACmG,IAAJ,EAAUlG,EAAE,CAACmG,uBAAb,EAAsClG,EAAE,CAACmG,aAAzC,EAAwDnG,EAAE,CAACoG,oBAA3D,EAAiFpG,EAAE,CAACqG,MAApF,EAA4FrG,EAAE,CAACsG,oBAA/F,EAAqHtG,EAAE,CAACuG,eAAxH,EAAyIvG,EAAE,CAACwG,OAA5I,EAAqJxG,EAAE,CAACyG,iBAAxJ,EAA2KzG,EAAE,CAAC0G,cAA9K,EAA8L1G,EAAE,CAAC2G,kBAAjM,EAAqN7G,EAAE,CAAC8G,OAAxN,EAAiO5G,EAAE,CAAC6G,yBAApO,CAbmC;AAa6NC,EAAAA,MAAM,EAAE,CAAC,+0BAAD;AAbrO,CAArB,CAAnC","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../users.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./loading-spinner/loading-spinner.component\";\nimport * as i6 from \"@angular/forms\";\nfunction AuthComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n} }\nfunction AuthComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"app-loading-spinner\");\n    i0.ɵɵelementEnd();\n} }\nfunction AuthComponent_form_3_span_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Please enter a valid email.\");\n    i0.ɵɵelementEnd();\n} }\nfunction AuthComponent_form_3_span_15_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Password is minimum of 6 characters.\");\n    i0.ɵɵelementEnd();\n} }\nfunction AuthComponent_form_3_div_17_Template(rf, ctx) { if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵelementStart(2, \"input\", 22);\n    i0.ɵɵlistener(\"click\", function AuthComponent_form_3_div_17_Template_input_click_2_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const option_r9 = restoredCtx.$implicit; const ctx_r10 = i0.ɵɵnextContext(2); return ctx_r10.onSwitchMode(option_r9); });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const option_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", \"login\")(\"value\", option_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r9, \" \");\n} }\nfunction AuthComponent_form_3_Template(rf, ctx) { if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 6, 7);\n    i0.ɵɵlistener(\"ngSubmit\", function AuthComponent_form_3_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r13); const _r3 = i0.ɵɵreference(1); const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.onSubmit(_r3); });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"label\", 9);\n    i0.ɵɵtext(4, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10);\n    i0.ɵɵelement(6, \"input\", 11, 12);\n    i0.ɵɵtemplate(8, AuthComponent_form_3_span_8_Template, 2, 0, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵelementStart(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵelement(13, \"input\", 15, 16);\n    i0.ɵɵtemplate(15, AuthComponent_form_3_span_15_Template, 2, 0, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"fieldset\", 8);\n    i0.ɵɵtemplate(17, AuthComponent_form_3_div_17_Template, 4, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 18);\n    i0.ɵɵelementStart(19, \"button\", 19);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const _r3 = i0.ɵɵreference(1);\n    const _r4 = i0.ɵɵreference(7);\n    const _r6 = i0.ɵɵreference(14);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !_r4.valid && _r4.touched);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !_r6.valid && _r6.touched);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.options);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !_r3.valid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isLoginMode ? \"Login\" : \"Sign up\", \" \");\n} }\nexport class AuthComponent {\n    constructor(authService, router, usersService) {\n        this.authService = authService;\n        this.router = router;\n        this.usersService = usersService;\n        this.isLoginMode = true;\n        this.isLoading = false;\n        this.options = ['login', 'signup'];\n        this.error = null;\n    }\n    onSwitchMode(option) {\n        if (option === 'login')\n            this.isLoginMode = true;\n        if (option === 'signup')\n            this.isLoginMode = false;\n    }\n    ngOnInit() { }\n    onSubmit(form) {\n        if (!form.valid)\n            return;\n        const email = form.value.email;\n        const password = form.value.password;\n        this.isLoading = true;\n        if (this.isLoginMode) {\n            this.activatedSub1 = this.authService.login(email, password).subscribe((resData) => {\n                this.navigateToNextPage();\n                //this.isLoading = false; // We commented this out because we still need the spinner showing as it's still doing an API fetch for the updatedUsers and updatedActivities\n            }, (errorMessage) => {\n                // console.log(errorMessage);\n                this.error = errorMessage;\n                this.isLoading = false;\n            });\n        }\n        else {\n            this.activatedSub2 = this.authService.signup(email, password).subscribe((resData) => {\n                // console.log(resData);\n                this.isLoading = false;\n                this.router.navigate(['/create-profile']);\n            }, (errorMessage) => {\n                // console.log(errorMessage);\n                this.error = errorMessage;\n                this.isLoading = false;\n            });\n        }\n        form.reset();\n        this.isLoginMode = true; // Don't remove this. It resets the form button to default value.\n    }\n    getLoggedInUser() {\n        return new Promise((resolve, reject) => {\n            this.activatedSub3 = this.authService.user.subscribe((loggedInUser) => {\n                if (loggedInUser)\n                    resolve(loggedInUser);\n            });\n        });\n    }\n    getUpdatedUsers() {\n        return new Promise((resolve, reject) => {\n            this.activatedSub4 = this.usersService.updatedUsers.subscribe((updatedUsers) => {\n                if (updatedUsers)\n                    resolve(updatedUsers);\n            });\n        });\n    }\n    async navigateToNextPage() {\n        const data = await Promise.all([\n            this.getLoggedInUser(),\n            this.getUpdatedUsers(),\n        ]);\n        const [loggedInUser, updatedUsers] = data;\n        const user = updatedUsers.find((user) => user.emailAddress === loggedInUser.email);\n        if (user) {\n            this.router.navigate(['/users']);\n        }\n        else {\n            this.router.navigate(['/create-profile']);\n        }\n        // console.log(loggedInUser);\n        // console.log(updatedUsers);\n        // console.log(user);\n    }\n}\nAuthComponent.ɵfac = function AuthComponent_Factory(t) { return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UsersService)); };\nAuthComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AuthComponent, selectors: [[\"app-auth\"]], decls: 4, vars: 3, consts: [[1, \"container-lg\", \"col-xl-6\", \"col-lg-7\", \"col-md-9\", \"p-5\", \"mt-5\", \"roundedcorner\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"style\", \"text-align: center\", 4, \"ngIf\"], [3, \"ngSubmit\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [2, \"text-align\", \"center\"], [3, \"ngSubmit\"], [\"authForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [\"for\", \"inputEmail3\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-10\"], [\"type\", \"email\", \"id\", \"inputEmail3\", \"ngModel\", \"\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 1, \"form-control\"], [\"email\", \"ngModel\"], [\"class\", \"help-block text-danger\", 4, \"ngIf\"], [\"for\", \"inputPassword3\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"password\", \"id\", \"inputPassword3\", \"ngModel\", \"\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"6\", 1, \"form-control\"], [\"password\", \"ngModel\"], [\"class\", \"radio form-check d-flex justify-content-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"help-block\", \"text-danger\"], [1, \"radio\", \"form-check\", \"d-flex\", \"justify-content-center\"], [\"type\", \"radio\", \"name\", \"option\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"click\"]], template: function AuthComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AuthComponent_div_1_Template, 3, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, AuthComponent_div_2_Template, 2, 0, \"div\", 2);\n        i0.ɵɵtemplate(3, AuthComponent_form_3_Template, 21, 5, \"form\", 3);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n    } }, directives: [i4.NgIf, i5.LoadingSpinnerComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i6.RequiredValidator, i6.EmailValidator, i6.MinLengthValidator, i4.NgForOf, i6.RadioControlValueAccessor], styles: [\".roundedcorner[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  background-color: white;\\n  box-shadow: 0 1px 10px rgb(0, 0, 0);\\n}\\n\\n@media screen and (max-width: 768px) {\\n  .roundedcorner[_ngcontent-%COMP%] {\\n    box-shadow: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsbUNBQW1DO0FBQ3JDOztBQUVBO0VBQ0U7SUFDRSxnQkFBZ0I7RUFDbEI7QUFDRiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm91bmRlZGNvcm5lciB7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3gtc2hhZG93OiAwIDFweCAxMHB4IHJnYigwLCAwLCAwKTtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLnJvdW5kZWRjb3JuZXIge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}