# There are two kinds of syntaxes
# - \{\{key}}, key can be defined in configFile
# - \{\{directive value}}

user kael staff;

# `ngx` will resolve paths elegantly, so you can use relative paths here.
# Furthermore, `ngx` will `mkdir -p ../config` prehead
#   to avoid the common "directory or file not found" error of nginx.
pid /Users/kael/Codes/node/ngx/sample/config/nginx.pid;
error_log /Users/kael/Codes/node/ngx/sample/logs/api-error.log warn;

events {
  # You can define different `worker_connections` in configFile for
  #   different environments.
  # See sample/preset/production.yml for details
  worker_connections 256;
}

http {
  # The directive `include` now supports glob patterns, even two globstars
  # In the sample, it will also include './common/foo/header.conf'
  include /Users/kael/Codes/node/ngx/sample/nginx/common/body_size-b810ecda33.conf;
include /Users/kael/Codes/node/ngx/sample/nginx/common/foo/header-ddd64ac864.conf;

  # `upstreams` and `servers` is a preserved data key of `ngx`,
  #   see details in sample/preset/production.yml
  upstream api {
  server 127.0.0.1:8080;
}

upstream static {
  server 127.0.0.1:8081;
}
  server {
  listen 80;
  server_name apis.domain.com;
  include /Users/kael/Codes/node/ngx/sample/nginx/route/domain.com-f4fcd38874.conf;
}

server {
  listen 80;
  server_name static.domain.com;
  include /Users/kael/Codes/node/ngx/sample/nginx/route/domain.com-edd0a4325f.conf;
}
}
